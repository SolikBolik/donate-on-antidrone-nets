<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Black Friday Giveaway</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&display=swap');

        body {
            font-family: 'Montserrat', sans-serif;
            text-align: center;
            background-color: #0a0a0a;
            background-image: radial-gradient(circle, #1a1a1a 0%, #000 100%);
            color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* height: 100vh;  –ü—Ä–∏–±–∏—Ä–∞—î–º–æ —Ñ—ñ–∫—Å–æ–≤–∞–Ω—É –≤–∏—Å–æ—Ç—É –¥–ª—è –∫—Ä–∞—â–æ—ó –∞–¥–∞–ø—Ç–∞—Ü—ñ—ó */
            min-height: 100vh; /* –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –≤–∏—Å–æ—Ç–∞ –Ω–∞ –≤–µ—Å—å –µ–∫—Ä–∞–Ω */
            margin: 0;
            overflow-x: hidden; /* –¢—ñ–ª—å–∫–∏ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–π —Å–∫—Ä–æ–ª —Ö–æ–≤–∞—î–º–æ */
            position: relative;
            padding-bottom: 20px; /* –í—ñ–¥—Å—Ç—É–ø –∑–Ω–∏–∑—É */
        }

        h1 {
            text-transform: uppercase;
            line-height: 1.1;
            margin: 10px 0 20px 0;
            z-index: 2;
            padding: 0 10px;
        }

        .huge-text {
            font-size: clamp(1.5rem, 5vw, 3rem);
            color: #FFD700;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.4);
            display: block;
        }

        .design-black {
            color: #111;
            text-shadow: none;
            filter: drop-shadow(0 1px 0 rgba(255,255,255,0.08));
        }

        .tiny-text {
            font-size: 9px;
            color: #222;
            vertical-align: super;
        }

        #wheel-container {
            position: relative;
            width: 90vw;
            height: 90vw;
            max-width: 50vh; /* –¢—Ä–æ—Ö–∏ –∑–º–µ–Ω—à–∏–≤ –¥–ª—è –∫—Ä–∞—â–æ–≥–æ –≤–∏–≥–ª—è–¥—É –Ω–∞ –º–æ–± */
            max-height: 50vh;
            margin: 0 auto 20px auto;
            z-index: 5;
        }

        canvas {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            box-shadow: 0 0 25px rgba(255, 0, 50, 0.5), 0 0 10px #FFD700;
            border: 4px solid #FFD700;
        }

        #arrow {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-top: 50px solid #ff0033;
            filter: drop-shadow(0 4px 4px rgba(0,0,0,0.5));
            z-index: 10;
        }

        button.spin-btn {
            padding: 15px 40px;
            font-size: clamp(1rem, 3vw, 1.5rem);
            font-weight: 900;
            background: linear-gradient(180deg, #ff0033 0%, #99001f 100%);
            color: white;
            border: 2px solid #FFD700;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(255, 0, 51, 0.4);
            text-transform: uppercase;
            font-family: 'Montserrat', sans-serif;
            margin-bottom: 20px;
            transition: all 0.2s;
            z-index: 10;
        }
        button.spin-btn:active { transform: scale(0.95); }
        button.spin-btn:disabled { background: #444; border-color: #666; cursor: default; }

        /* --- –ó–û–ù–ê –ì–Ü–§–û–ö (–ü–ö: –∑–ª—ñ–≤–∞ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ, –ú–æ–±: –∑–≤–µ—Ä—Ö—É –≤ –ø–æ—Ç–æ—Ü—ñ) --- */
        #party-zone {
            position: fixed;
            left: 5%;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
            z-index: 1;
            pointer-events: none;
        }

        .party-gif {
            width: 200px;
            height: auto;
            border-radius: 10px;
            filter: drop-shadow(0 0 10px rgba(0,0,0,0.5));
        }

        /* --- –ö–ù–û–ü–ö–ê –ú–£–ó–ò–ö–ò --- */
        #music-btn {
            position: fixed;
            right: 5%;
            bottom: 5%;
            width: 70px;
            height: 70px;
            background: #0a0a0a;
            border: 4px solid #FFD700;
            border-radius: 50%;
            cursor: pointer;
            z-index: 20;
            font-size: 30px;
            color: #FFD700;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
            transition: all 0.3s ease;
        }
        #music-btn:hover {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.8);
            background: #1a1a1a;
        }

        /* --- –ê–î–ê–ü–¢–ê–¶–Ü–Ø –î–õ–Ø –ú–û–ë–Ü–õ–¨–ù–ò–• --- */
        @media (max-width: 900px) {
            body {
                justify-content: flex-start; /* –í–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è –ø–æ –≤–µ—Ä—Ö—É */
                padding-top: 20px;
            }
            /* –ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ –≥—ñ—Ñ–∫–∏ –Ω–∞–≤–µ—Ä—Ö */
            #party-zone {
                position: relative; /* –°—Ç–∞—é—Ç—å —á–∞—Å—Ç–∏–Ω–æ—é –ø–æ—Ç–æ–∫—É */
                left: auto;
                top: auto;
                transform: none;
                flex-direction: row; /* –í —Ä—è–¥–æ–∫ */
                justify-content: center;
                margin-bottom: 10px;
                order: -1; /* –°—Ç–∞–≤–∏–º–æ —ó—Ö –≤—ñ–∑—É–∞–ª—å–Ω–æ –ø–µ—Ä—à–∏–º–∏ */
            }
            .party-gif {
                width: 85px; /* –ó–º–µ–Ω—à—É—î–º–æ —Ä–æ–∑–º—ñ—Ä */
            }
            /* –ö–æ—Ä–∏–≥—É—î–º–æ –∫–Ω–æ–ø–∫—É –º—É–∑–∏–∫–∏ */
            #music-btn {
                width: 50px;
                height: 50px;
                font-size: 24px;
                right: 15px;
                bottom: 15px;
                border-width: 3px;
            }
             /* –¢—Ä–æ—Ö–∏ –∑–º–µ–Ω—à—É—î–º–æ –≤—ñ–¥—Å—Ç—É–ø–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            h1 { margin: 10px 0; }
        }

        /* --- –ü–û–ü–ê–ü --- */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(8px);
        }

        .modal-content {
            background: #111;
            border: 3px solid #FFD700;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            max-width: 85%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 0 60px rgba(255, 215, 0, 0.2);
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .modal-title {
            color: #ff0033;
            font-size: 1.5rem;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .modal-prize {
            font-size: 1.1rem;
            color: #fff;
            margin: 20px 0;
            line-height: 1.5;
            font-weight: 500;
            text-align: left;
            background: #222;
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid #FFD700;
        }

        .action-btn {
            padding: 15px 30px;
            background: #FFD700;
            color: #000;
            font-weight: 900;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.2rem;
            text-transform: uppercase;
            text-decoration: none;
            display: inline-block;
            margin-top: 10px;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.4);
        }
        .action-btn:hover { background: #e6c200; transform: scale(1.05); transition: 0.2s; }

    </style>
</head>
<body>

    <audio id="bgMusic" loop autoplay>
        <source src="https://www.myinstants.com/media/sounds/rick-roll.mp3" type="audio/mpeg">
    </audio>
    <audio id="spinSound" loop>
        <source src="https://www.myinstants.com/media/sounds/wheel-of-fortune-sound-effect.mp3" type="audio/mpeg">
    </audio>
    <audio id="winSound">
        <source src="https://www.myinstants.com/media/sounds/tada-fanfare-sound-effect.mp3" type="audio/mpeg">
    </audio>

    <div id="party-zone">
        <img class="party-gif" src="https://media.giphy.com/media/GeimqsH0TLDt4tScGw/giphy.gif" alt="Vibing Cat">
        <img class="party-gif" src="https://media.giphy.com/media/13CoXDiaCcCoyk/giphy.gif" alt="Dancing Dog">
    </div>

    <h1>
        <span class="tiny-text">–º–∞–π–∂–µ</span>
        <span class="huge-text">–ë–ï–ó–ü–†–û–ì–†–ê–®–ù–ò–ô<br><span class="design-black">BLACK</span> FRIDAY</span>
    </h1>

    <div id="wheel-container">
        <div id="arrow"></div>
        <canvas id="wheel" width="1000" height="1000"></canvas>
    </div>

    <button id="spinBtn" class="spin-btn">–í–ò–ü–†–û–ë–£–í–ê–¢–ò –£–î–ê–ß–£</button>

    <button id="music-btn" onclick="toggleMusic()">üîä</button>

    <div id="modal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="modal-title">–í–Ü–¢–ê–Ñ–ú–û! üòÇ</h2>
            <div style="color: #FFD700; font-size: 0.9rem; text-transform: uppercase;">–í–∞—à –ø—Ä–∏–∑ - –∞–Ω–µ–∫–¥–æ—Ç:</div>
            <div id="popup-text" class="modal-prize"></div>
            <button class="action-btn" onclick="goToBank()">–ó–Ü–ì–†–ê–¢–ò –©–ï –†–ê–ó</button>
        </div>
    </div>

    <script>
        // --- –ü–†–ò–ó–ò ---
        const prizes = [
            "üèù –ü–æ—ó–∑–¥–∫–∞ –≤ –ñ–∏—Ç–æ–º–∏—Ä",
            "üéÆ PlayStation 5",
            "üì± iPhone 17 Pro",
            "üê∂ –í–µ—á–µ—Ä—è –∑ –ü–µ–Ω–∑–ª–∏–∫–æ–º",
            "üç∫ –í–∏—Ö—ñ–¥–Ω–∏–π",
            "ü§° –ê–Ω–µ–∫–¥–æ—Ç"
        ];

        const riggedIndex = 5;

        // --- –ë–ê–ó–ê –ê–ù–ï–ö–î–û–¢–Ü–í (–û–ù–û–í–õ–ï–ù–ê –ë–ê–ó–ê) ---
        const anecdotes = [
            "–©–æ —Å–ø—ñ–ª—å–Ω–æ–≥–æ –º—ñ–∂ —Ä–æ—Å—ñ–π—Å—å–∫–∏–º –∫–æ—Ä–∞–±–ª–µ–º —ñ —Ä–æ—Å—ñ–π—Å—å–∫–æ—é –µ–∫–æ–Ω–æ–º—ñ–∫–æ—é?\n‚Äî –û–±–∏–¥–≤–∞ –ø—ñ—à–ª–∏ –Ω–∞ –¥–Ω–æ.",
            "–ù–∞–π–∫–æ—Ä–æ—Ç—à–∏–π –∞–Ω–µ–∫–¥–æ—Ç: '—Ä—É—Å–∫—ñ–π –º—ñ—Ä'.",
            "‚Äî –ö—É–º–µ, –∞ —á–æ–º—É —Ä–æ—Å—ñ—è–Ω–∏ –∫—Ä–∞–¥—É—Ç—å —É–Ω—ñ—Ç–∞–∑–∏?\n‚Äî –ë–æ –≤–æ–Ω–∏ –¥—É–º–∞—é—Ç—å, —â–æ —Ü–µ –ø–æ—Ä—Ç–∞–ª —É —Ü–∏–≤—ñ–ª—ñ–∑–∞—Ü—ñ—é!",
            "–ó–∞—Ö–æ–¥–∏—Ç—å —Ç–µ—Å—Ç—É–≤–∞–ª—å–Ω–∏–∫ —É –±–∞—Ä. –ó–∞–º–æ–≤–ª—è—î: –∫—É—Ö–æ–ª—å –ø–∏–≤–∞, 2 –∫—É—Ö–ª—ñ –ø–∏–≤–∞, 0 –∫—É—Ö–ª—ñ–≤ –ø–∏–≤–∞, 999999999 –∫—É—Ö–ª—ñ–≤ –ø–∏–≤–∞...",
            "‚Äî –ö—É–º–µ, –∞ —â–æ —Ç–æ —É –≤–∞—Å –∑–∞ —Å–∏–Ω–µ—Ü—å –ø—ñ–¥ –æ–∫–æ–º?\n‚Äî –¢–∞ —Ç–æ —è —Ö–æ—Ç—ñ–≤ —Å—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ—É–≤–∞—Ç–∏, —è–∫ –¥—Ä—É–∂–∏–Ω–∞ –∫–æ—Ä–æ–≤—É –¥–æ—ó—Ç—å.\n‚Äî –Ü —â–æ?\n‚Äî –¢–∞, –≤–∏—è–≤–∏–ª–æ—Å—è, —â–æ —Ç–æ –Ω–µ –∫–æ—Ä–æ–≤–∞, –∞ —Ç–µ—â–∞ –≥–æ—Ä–æ–¥ —Å–∞–ø–∞—î...",
            "–ù–æ–≤–∏–Ω–∏: –í –£–∫—Ä–∞—ó–Ω—ñ —Ä–æ–∑—Ä–æ–±–∏–ª–∏ –Ω–æ–≤–∏–π –¥—Ä–æ–Ω '–¢–µ—â–∞'. –í—ñ–Ω –Ω–µ –ª—ñ—Ç–∞—î —ñ –Ω–µ –≤–∏–±—É—Ö–∞—î, –∞–ª–µ —Ç–∞–∫ –ø–∏–ª—è—î –º–æ–∑–æ–∫ –≤–æ—Ä–æ–≥—É, —â–æ —Ç–æ–π –∑–¥–∞—î—Ç—å—Å—è –≤ –ø–æ–ª–æ–Ω.",
            "–°–∏–¥–∏—Ç—å –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç, –ø—Ä–∞—Ü—é—î. –ü—ñ–¥—Ö–æ–¥–∏—Ç—å —Å–∏–Ω:\n‚Äî –¢–∞—Ç—É, –∞ —á–æ–º—É —Å–æ–Ω—Ü–µ —Å—Ö–æ–¥–∏—Ç—å –Ω–∞ —Å—Ö–æ–¥—ñ, –∞ –∑–∞—Ö–æ–¥–∏—Ç—å –Ω–∞ –∑–∞—Ö–æ–¥—ñ?\n‚Äî –ü—Ä–∞—Ü—é—î? –û—Ç —ñ –Ω–µ —á—ñ–ø–∞–π!",
            "–û–¥–µ—Å–∞. –ü—Ä–∏–≤–æ–∑.\n‚Äî –ñ—ñ–Ω–æ—á–∫–æ, –∞ —á–æ–º—É –≤–∞—à—ñ –≥—É—Å–∏ —Ç–∞–∫—ñ –¥–æ—Ä–æ–≥—ñ?\n‚Äî –ë–æ —Ç–æ –Ω–µ –≥—É—Å–∏, —Ç–æ –ª–µ–±–µ–¥—ñ, –ø—Ä–æ—Å—Ç–æ –≤–æ–Ω–∏ —Ö–≤–æ—Ä—ñ—é—Ç—å —ñ —Å—Ö—É–¥–ª–∏.",
            "–ß–æ—Ä–Ω–∞ –ø'—è—Ç–Ω–∏—Ü—è –≤ –£–∫—Ä–∞—ó–Ω—ñ: –ó–Ω–∏–∂–∫–∏ –¥–æ -90%! (–ù–∞ —Ç–æ–≤–∞—Ä, —Ü—ñ–Ω—É —è–∫–æ–≥–æ –≤—á–æ—Ä–∞ –ø—ñ–¥–Ω—è–ª–∏ –Ω–∞ 100%).",
			"–°–∏–¥—è—Ç—å –¥–≤–∞ –∫—É–º–∏, –≤–∏–ø–∏–≤–∞—é—Ç—å. –û–¥–∏–Ω –ø–∏—Ç–∞—î:\n‚Äî –ö—É–º–µ, –∞ –≤–∏ –∑–Ω–∞—î—Ç–µ, —è–∫–∞ —Ä—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ –±—ñ–¥–æ—é —ñ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–æ—é?\n‚Äî –ù—ñ.\n‚Äî –ù—É –¥–∏–≤—ñ—Ç—å—Å—è. –ô–¥–µ –∫–æ–∑–∞ –ø–æ –º–æ—Å—Ç–∏–∫—É, –≤–ø–∞–ª–∞ —ñ –∑–¥–æ—Ö–ª–∞. –¶–µ –±—ñ–¥–∞, –∞–ª–µ –Ω–µ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞.\n‚Äî –ê –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞?\n‚Äî –ê –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞ ‚Äî —Ü–µ –∫–æ–ª–∏ –ª–µ—Ç–∏—Ç—å –ª—ñ—Ç–∞–∫ –∑ –º–æ—Å–∫–∞–ª—è–º–∏, –ø–∞–¥–∞—î —ñ —Ä–æ–∑–±–∏–≤–∞—î—Ç—å—Å—è. –¶–µ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∞, –∞–ª–µ –Ω–µ –±—ñ–¥–∞.",
			"‚Äî –ì–∞–ª—é, —Ç–∏ —Å–ø–∏—à?\n‚Äî –ù—ñ.\n‚Äî –¢–æ –¥–∞–π 100 –≥—Ä–∏–≤–µ–Ω—å.\n‚Äî –Ø —Å–ø–ª—é!",
			"‚Äî –ö—É–º–µ, –∞ —á–æ–≥–æ —Ü–µ —É –≤–∞—Å —Å–≤–∏–Ω—è –Ω–∞ –º–∏–ª–∏—Ü—è—Ö –±—ñ–≥–∞—î?\n‚Äî –¢–∞ –≤–∏ —â–æ, –∫—É–º–µ! –©–æ–± —è –∑–∞—Ä–∞–¥–∏ –º–∏—Å–∫–∏ —Ö–æ–ª–æ–¥—Ü—é —Ü—ñ–ª—É —Å–≤–∏–Ω—é –∫–æ–ª–æ–≤?",
			"‚Äî –õ—ñ–∫–∞—Ä—é, –º–µ–Ω–µ –≤—Å—ñ —ñ–≥–Ω–æ—Ä—É—é—Ç—å...\n‚Äî –ù–∞—Å—Ç—É–ø–Ω–∏–π!",
			"–ü—Ä–∏—Ö–æ–¥–∏—Ç—å —á–æ–ª–æ–≤—ñ–∫ –¥–æ –ø—Å–∏—Ö–æ–ª–æ–≥–∞:\n‚Äî –õ—ñ–∫–∞—Ä—é, –º–µ–Ω—ñ —â–æ–Ω–æ—á—ñ —Å–Ω–∏—Ç—å—Å—è, —â–æ —è —à—Ç–æ–≤—Ö–∞—é –ø–æ—ó–∑–¥ –¥–æ –ö–∏—î–≤–∞.\n‚Äî –ù—É, —Ü–µ –≤—ñ–¥ –ø–µ—Ä–µ–≤—Ç–æ–º–∏. –Ø –≤–∞–º –ø—Ä–æ–ø–∏—à—É —Ç–∞–±–ª–µ—Ç–∫–∏.\n–ü—Ä–∏—Ö–æ–¥–∏—Ç—å —ñ–Ω—à–∏–π —á–æ–ª–æ–≤—ñ–∫:\n‚Äî –õ—ñ–∫–∞—Ä—é, –º–µ–Ω—ñ —Å–Ω–∏—Ç—å—Å—è, —â–æ —è —â–æ–Ω–æ—á—ñ –∑–∞–π–º–∞—é—Å—è —Å–µ–∫—Å–æ–º –∑ –®–µ—Ä–æ–Ω –°—Ç–æ—É–Ω!\n‚Äî –û–≥–æ! –ê –º–æ–∂–Ω–∞ –º–µ–Ω—ñ —Ç–∞–∫—ñ —Å–Ω–∏?\n–ü–µ—Ä—à–∏–π —á–æ–ª–æ–≤—ñ–∫ (–≤—Å—Ç—Ä—è—î):\n‚Äî –õ—ñ–∫–∞—Ä—é! –ê –º–æ–∂–Ω–∞ –º–µ–Ω—ñ –¥–æ –Ω—å–æ–≥–æ —É —Å–æ–Ω? –ê —Ç–æ —è –ø–æ–∫–∏ —Ç–æ–π –ø–æ—ó–∑–¥ –¥–æ –ö–∏—î–≤–∞ –¥–æ–ø—Ö–∞—é, —Ç–æ –®–µ—Ä–æ–Ω –°—Ç–æ—É–Ω –≤–∂–µ —Å–ø–∏—Ç—å!",
			"‚Äî –ú–∞–º–æ, –∞ —á–æ–º—É –Ω–∞—Ä–µ—á–µ–Ω–∞ –Ω–∞ –≤–µ—Å—ñ–ª–ª—ñ –≤—Å—è –≤ –±—ñ–ª–æ–º—É?\n‚Äî –ù—É, –¥–æ—Ü—é, —Ü–µ –Ω–∞–π—Å–≤—ñ—Ç–ª—ñ—à–∏–π –¥–µ–Ω—å —É —ó—ó –∂–∏—Ç—Ç—ñ.\n‚Äî –ê —á–æ–º—É —Ç–æ–¥—ñ –Ω–∞—Ä–µ—á–µ–Ω–∏–π —É –≤—Å—å–æ–º—É —á–æ—Ä–Ω–æ–º—É?",
			"–û–≥–æ–ª–æ—à–µ–Ω–Ω—è –≤ –≥–∞–∑–µ—Ç—ñ: '–ü—Ä–æ–¥–∞–º —Å–æ–±–∞–∫—É. –î–æ–±—Ä–∞, –ª–∞–≥—ñ–¥–Ω–∞, —ó—Å—Ç—å —É—Å–µ. –î—É–∂–µ –ª—é–±–∏—Ç—å –¥—ñ—Ç–µ–π'.",
			"‚Äî –ö—É–º–µ, –≤–∏ –∑–Ω–∞—î—Ç–µ, —è–∫ –∑–∞—Ü—ñ–∫–∞–≤–∏—Ç–∏ —ñ–¥—ñ–æ—Ç–∞?\n‚Äî –ù—ñ, —è–∫?\n‚Äî –ó–∞–≤—Ç—Ä–∞ —Ä–æ–∑–∫–∞–∂—É.",
			"–ü–∏—Ç–∞—é—Ç—å –¥—Ä—É–∂–∏–Ω—É:\n‚Äî –î–µ —Ç–∏ –±–µ—Ä–µ—à –≥—Ä–æ—à—ñ?\n–í–æ–Ω–∞ –∫–∞–∂–µ: ‚Äî –£ —Ç—É–º–±–æ—á—Ü—ñ.\n‚Äî –ê —Ö—Ç–æ –∫–ª–∞–¥–µ –≤ —Ç—É–º–±–æ—á–∫—É –≥—Ä–æ—à—ñ?\n‚Äî –ù–µ –∑–Ω–∞—é.\n‚Äî –¢–∞–∫ –¥–µ –∂ —Ç–∏ –±–µ—Ä–µ—à –≥—Ä–æ—à—ñ?\n‚Äî –¢–∞ –∫–∞–∂—É –∂: —É —Ç—É–º–±–æ—á—Ü—ñ!",
			"–õ–µ—Ç—è—Ç—å —É –ª—ñ—Ç–∞–∫—É –ø–∞—Å–∞–∂–∏—Ä–∏, —ñ –æ–¥–∏–Ω ‚Äî –∑ –£–∫—Ä–∞—ó–Ω–∏. –î—ñ—Å—Ç–∞–≤ –±—É—Ç–µ—Ä–±—Ä–æ–¥ —ñ–∑ —Å–∞–ª–æ–º —ñ —á–∞—Å–Ω–∏–∫–æ–º ‚Äî –∑–∞–ø–∞—Ö –ø—ñ—à–æ–≤ –Ω–∞ –≤–µ—Å—å —Å–∞–ª–æ–Ω.\n–ü—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–æ –Ω—å–æ–≥–æ –∞—Ñ—Ä–æ–∞–º–µ—Ä–∏–∫–∞–Ω–µ—Ü—å, –¥–∏–≤–∏—Ç—å—Å—è, —è–∫ —Ç–æ–π —ó—Å—Ç—å, –∞–∂ —Å–ª–∏–Ω–∞ —Ç–µ—á–µ. –ü–∏—Ç–∞—î:\n‚Äî –ù—É —â–æ, —Å–º–∞—á–Ω–æ?\n‚Äî –°–º–∞—á–Ω–æ. –á—Å—Ç–∏ –±—É–¥–µ—à?\n‚Äî –ë—É–¥—É!\n‚Äî –Ø —Ä–æ–∑—É–º—ñ—é, —â–æ —Ç–∏ –± –∑'—ó–≤... –ê–ª–µ —è —Ç–æ–±—ñ –Ω–µ –¥–∞–º."
        ];

        function goToBank() {
            window.location.href = "https://send.monobank.ua/jar/32bFsomHrE";
        }

        // --- –õ–û–ì–Ü–ö–ê –ú–£–ó–ò–ö–ò (–ù–∞–π–∞–≥—Ä–µ—Å–∏–≤–Ω—ñ—à–∏–π –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫) ---
        const bgMusic = document.getElementById('bgMusic');
        const musicBtn = document.getElementById('music-btn');
        bgMusic.volume = 0.2;

        // 1. –ü—Ä–æ–±—É—î–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –æ–¥—Ä–∞–∑—É
        bgMusic.play().then(() => {
            musicBtn.innerText = "üîä";
        }).catch(() => {
            // 2. –Ø–∫—â–æ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ ‚Äî —á–µ–∫–∞—î–º–æ –ø–µ—Ä—à–æ–≥–æ –∫–ª—ñ–∫—É –ø–æ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
            musicBtn.innerText = "üîá";
            document.addEventListener('click', () => {
                if(bgMusic.paused) {
                    bgMusic.play();
                    musicBtn.innerText = "üîä";
                }
            }, { once: true }); // once: true –æ–∑–Ω–∞—á–∞—î, —â–æ —Å–ª—É—Ö–∞—á —Å–ø—Ä–∞—Ü—é—î –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑
        });

        function toggleMusic() {
            if (bgMusic.paused) {
                bgMusic.play();
                musicBtn.innerText = "üîä";
            } else {
                bgMusic.pause();
                musicBtn.innerText = "üîá";
            }
        }

        // --- –õ–û–ì–Ü–ö–ê –ó–í–£–ö–Ü–í ---
        const spinSound = document.getElementById('spinSound');
        const winSound = document.getElementById('winSound');
        spinSound.volume = 0.5;
        winSound.volume = 0.6;

        // ---------------------

        const canvas = document.getElementById('wheel');
        const ctx = canvas.getContext('2d');
        const spinBtn = document.getElementById('spinBtn');
        const modal = document.getElementById('modal');
        const popupText = document.getElementById('popup-text');

        const centerX = 500;
        const centerY = 500;
        const radius = 480;

        let startAngle = 0;
        const arc = Math.PI / (prizes.length / 2);
        let spinTime = 0;
        let spinTimeTotal = 0;

        const colors = ["#111", "#D4AF37", "#1C1C1C", "#B8860B", "#222", "#FFD700"];

        function drawRouletteWheel() {
            ctx.clearRect(0,0,1000,1000);
            ctx.lineWidth = 6;

            for(let i = 0; i < prizes.length; i++) {
                const angle = startAngle + i * arc;
                ctx.fillStyle = colors[i % colors.length];
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.arc(centerX, centerY, radius, angle, angle + arc, false);
                ctx.lineTo(centerX, centerY);
                ctx.fill();
                ctx.strokeStyle = "#FFD700";
                ctx.stroke();

                ctx.save();
                ctx.translate(centerX, centerY);
                ctx.rotate(angle + arc / 2);
                ctx.textAlign = "right";
                ctx.textBaseline = "middle";

                const text = prizes[i];
                const isGold = ctx.fillStyle === "#D4AF37" || ctx.fillStyle === "#FFD700" || ctx.fillStyle === "#B8860B";
                ctx.fillStyle = isGold ? "#000" : "#fff";

                let fontSize = 45;
                ctx.font = 'bold ' + fontSize + 'px Montserrat, Arial';

                while (ctx.measureText(text).width > 380 && fontSize > 20) {
                    fontSize -= 2;
                    ctx.font = 'bold ' + fontSize + 'px Montserrat, Arial';
                }

                ctx.fillText(text, radius - 30, 0);
                ctx.restore();
            }
        }

        function spin() {
            spinBtn.disabled = true;
            spinSound.currentTime = 0;
            spinSound.play();

            const sliceAngle = 360 / prizes.length;
            const targetAngle = 360 * 8 + (270 - (riggedIndex * sliceAngle) - (sliceAngle/2));
            const randomOffset = Math.floor(Math.random() * (sliceAngle * 0.4)) - (sliceAngle * 0.2);
            spinTime = 0;
            spinTimeTotal = 6000;
            rotateWheel(targetAngle + randomOffset);
        }

        function rotateWheel(targetTotalDegrees) {
            const easeOut = (t, b, c, d) => {
                const ts = (t /= d) * t;
                const tc = ts * t;
                return b + c * (tc + -3 * ts + 3 * t);
            };

            const animate = (timestamp) => {
                if (!spinTime) spinTime = timestamp;
                const progress = timestamp - spinTime;

                if (progress < spinTimeTotal) {
                    const currentAngle = easeOut(progress, 0, targetTotalDegrees, spinTimeTotal);
                    startAngle = (currentAngle * Math.PI / 180);
                    drawRouletteWheel();
                    requestAnimationFrame(animate);
                } else {
                    startAngle = (targetTotalDegrees * Math.PI / 180);
                    drawRouletteWheel();
                    spinSound.pause();
                    spinSound.currentTime = 0;
                    showPopup();
                }
            };
            requestAnimationFrame(animate);
        }

        function showPopup() {
            winSound.play();
            if (navigator.vibrate) navigator.vibrate([100, 50, 100]);

            const randomAnecdote = anecdotes[Math.floor(Math.random() * anecdotes.length)];
            popupText.innerHTML = randomAnecdote.replace(/\n/g, "<br>");
            modal.style.display = 'flex';

            // --- –ö–û–ù–§–ï–¢–Ü ---
            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 2000 };

            function randomInRange(min, max) {
              return Math.random() * (max - min) + min;
            }

            var interval = setInterval(function() {
              var timeLeft = animationEnd - Date.now();
              if (timeLeft <= 0) {
                return clearInterval(interval);
              }
              var particleCount = 50 * (timeLeft / duration);
              confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
              confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }

        document.fonts.ready.then(function () {
           drawRouletteWheel();
        });
        spinBtn.addEventListener('click', spin);
    </script>
</body>
</html>
